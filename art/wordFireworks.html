<!DOCTYPE html>


<html lang="en">
<head>
  <meta charset="utf-8" />
  <title> Cyrus Illick </title>
  <script>
  //I watched a youtube video on Javascript animation to get started with this project and use some of his functions in my project
  // the link to the youtube video I watched is https://www.youtube.com/watch?v=YCI8uqePkrc
      window.onload = function() {
        var xVal = 0.5;
        var yVal = 0.5;
        var color = "hsl("+parseInt(Math.random()* 360, 10)+", 100%, 50%)";


        window.addEventListener("keydown", keyDownHandler);


        var canvas = document.createElement("canvas"),
          c = canvas.getContext("2d"),
          particles = {},
          particleIndex = 0;
          particleNum = 30;






        canvas.width = window.innerWidth - 20;
        canvas.height = window.innerHeight - 100;

        document.body.appendChild(canvas);

        c.fillStyle = 'black'
        c.fillRect(0,0, canvas.width, canvas.height);




        function Particle() {
          this.x = canvas.width *  xVal;
          this.y = canvas.height * yVal;
          this.vx = Math.random() * 10 - 5;
          this.vy =  Math.random() * 10 - 5;
          this.gravity = 0.3;
          particleIndex++;
          particles[particleIndex] = this;
          this.id = particleIndex
          this.life = 0;
          this.maxLife = Math.random() * 30 + 10;
          this.color = color;


        }


        Particle.prototype.draw = function() {

          this.x += this.vx;
          this.y += this.vy;
          this.vy += this.gravity;

          if(this.y >= canvas.height - 10) {
            this.x -= this.vx;
            this.y -= this.vy;
            this.vy -= this.gravity;

          }







          this.life++;
          if(this.life >= this.maxLife) {
            delete particles[this.id];
            // document.write("you are here");
          }



          c.fillStyle = this.color;
          c.fillRect(this.x, this.y, 10, 10);
          color = "hsl("+parseInt(Math.random()* 360, 10)+", 100%, 50%)";
        };

        var p = new Particle();



        for (var i = 0; i < particleNum; i++) {
          new Particle();
        }

        setInterval(function(){



          c.globalCompositeOperation = "source-over";
          c.fillStyle = "rgba(0, 0, 0, 0.2)";
          c.fillRect(0, 0, canvas.width, canvas.height);


          // c.fillStyle = "rgba(0, 0, 0, 0.2)";
          // c.fillRect(0, 0, canvas.width, canvas.height);

          c.globalCompositeOperation = "lighter";
          for (var i = 0; i < particleNum; i++) {
            new Particle();
          }

          for(var i in particles){
            particles[i].draw();
          }


        }, 30);

        function keyDownHandler(evt) {
            // Many games use WASD keys for navigation. We'll listen for these.
            // You can put code in the 'if' blocks to make things happen.
            // The input variable evt is a reference to the keyboard event,
            // and it has attached to it an attribute called 'key' which
            // represents which key (character) was pressed.
            console.log("key down, " + evt.key);
            if (evt.key == '+') {
              location.reload();

            }
            else if (evt.key == ' ') {
              color = "hsl("+parseInt(Math.random()* 360, 10)+", 100%, 50%)";
            }
            //this does not work and I don't know why, what should happen is that
            //when the user types the backspace button the fireworks reset
            else if (evt.key == 46) {
              location.reload();
              print("deleted");
            }
            else if (evt.key == 'a'){
              yVal = 0.5;
              xVal = 0.1;


            }
            else if (evt.key == 'b') {
                xVal = 0.55;
                yVal = 0.7;
            }
            else if (evt.key == 'c') {
              xVal = 0.4;
              yVal = 0.7;
            }
            else if (evt.key == 'd') {
                xVal = 0.3;
                yVal = 0.5;
            }
            else if (evt.key == 'e') {
                xVal = 0.3;
                yVal = 0.2;
            }
            else if (evt.key == 'f') {
                xVal = 0.4;
                yVal = 0.5;
            }
            else if (evt.key == 'g') {
              xVal = 0.5;
              yVal = 0.5;
            }
            else if (evt.key == 'h') {
              xVal = 0.6;
              yVal = 0.5;
            }
            else if (evt.key == 'i') {
              xVal = 0.8;
              yVal = 0.2;
            }
            else if (evt.key == 'j') {
              xVal = 0.7;
              yVal = 0.5;
            }
            else if (evt.key == 'k') {
              xVal = 0.8;
              yVal = 0.5;
            }
            else if (evt.key == 'l') {
              xVal = 0.9;
              yVal = 0.5;
            }
            else if (evt.key == 'm') {
              xVal = 0.8;
              yVal = 0.8;
            }
            else if (evt.key == 'n') {
              xVal = 0.65;
              yVal = 0.8;
            }
            else if (evt.key == 'o') {
              xVal = 0.9;
              yVal = 0.2;
            }
            else if (evt.key == 'p') {
              xVal = 0.9;
              yVal = 0.2;
            }
            else if (evt.key == 'q') {
              xVal = 0.1;
              yVal = 0.2;
            }
            else if (evt.key == 'r') {
              xVal = 0.4;
              yVal = 0.2;
            }
            else if (evt.key == 's') {
              xVal = 0.2;
              yVal = 0.5;
            }
            else if (evt.key == 't') {
              xVal = 0.45;
              yVal = 0.2;
            }
            else if (evt.key == 'u') {
              xVal = 0.7;
              yVal = 0.2;
            }
            else if (evt.key == 'v') {
              xVal = 0.45;
              yVal = 0.8;
            }
            else if (evt.key == 'w') {
              xVal = 0.2;
              yVal = 0.2;
            }
            else if (evt.key == 'x') {
              xVal = 0.25;
              yVal = 0.8;
            }
            else if (evt.key == 'y') {
              xVal = 0.6;
              yVal = 0.2;
            }
            else if (evt.key == 'z') {
              xVal = 0.15;
              yVal = 0.8;
            }

        }

        function keyUpHandler(evt) {
            console.log("key released, " + evt.key);
            if (evt.key == 'c') {
              // color = "hsl("+parseInt(Math.random()* 360, 10)+", 100%, 50%)";
            }
            else if (evt.key == 's') {


            }
            else if (evt.key == 'a') {
                this.x = 50;
            }
            else if (evt.key == 'd') {
                // right
            }

        }




      };

      function finale(){
         document.getElementById('words').value = '';

      }

  </script>

  <style>
  input[type=text], select {
      width: 100%;
      padding: 12px 20px;
      margin: 8px 0;
      display: inline-block;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
  }
  </style>
</head>
<body>
<!-- 
      <input type="text" id="words" name="Words" placeholder="Type here for word fireworks">
      <input type="button" value="Clear" id = "final" onClick = "finale()"> -->

</body>
</html>
